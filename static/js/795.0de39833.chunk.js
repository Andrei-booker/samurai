"use strict";(self.webpackChunksamurai=self.webpackChunksamurai||[]).push([[795],{795:(s,t,e)=>{e.r(t),e.d(t,{default:()=>S});var r=e(791),o=e(154),a=e(420),u=e(689),n=e(70);const i={postsBlock:"MyPosts_postsBlock__lB-pf",addPost:"MyPosts_addPost__vrj7C"},d="Post_item__Yu4oG";var l=e(184);const c=function(s){return(0,l.jsxs)("div",{className:d,children:[(0,l.jsx)("img",{alt:"user-logo",src:"https://play-lh.googleusercontent.com/hJGHtbYSQ0nCnoEsK6AGojonjELeAh_Huxg361mVrPmzdwm8Ots-JzEH5488IS2nojI=w240-h480-rw"}),s.message,(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"Likes "})," ",s.likesCount]})]})},p=r.memo((s=>{let{posts:t,addPost:e}=s;const r=t.map((s=>(0,l.jsx)(c,{message:s.message,likesCount:s.likesCount})));return(0,l.jsxs)("div",{className:i.postsBlock,children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(h,{onSubmit:s=>{e(s)}}),(0,l.jsx)("div",{className:i.posts,children:r})]})})),h=()=>(0,l.jsxs)("form",{className:i.addPost,children:[(0,l.jsx)("div",{children:(0,l.jsx)("textarea",{})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{children:"Add post"})})]}),j=p,x=(0,a.$j)((s=>({posts:s.profileReducer.posts,newPostText:s.profileReducer.newPostText})),(s=>({addPost:t=>s((0,n.q2)(t))})))(j);var f=e(118);const m=s=>{const[t,e]=(0,r.useState)(!1),[o,a]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{a(s.status)}),[s.status]);return(0,l.jsxs)("div",{children:[!t&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:()=>e(!0),children:s.status||"Create status"})}),t&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{autoFocus:!0,onBlur:()=>{e(!1),s.updateStatus(o)},onChange:s=>{a(s.currentTarget.value)},value:o})})]})},g="ProfileInfo_avatar__1VFcV",v="ProfileInfo_descriptionBlock__XBXuJ";const _=function(s){let{profile:t,status:e,updateStatus:r}=s;return t?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{alt:"top-background",src:"https://png.pngtree.com/thumb_back/fh260/background/20200714/pngtree-modern-double-color-futuristic-neon-background-image_351866.jpg"})}),(0,l.jsxs)("div",{className:v,children:[(0,l.jsx)("img",{className:g,alt:"user-logo",src:t.photos.large}),(0,l.jsx)(m,{status:e,updateStatus:r})]})]}):(0,l.jsx)(f.Z,{})};const k=function(s){let{profile:t,status:e,updateStatus:r}=s;return(0,l.jsxs)("div",{children:[(0,l.jsx)(_,{profile:t,status:e,updateStatus:r}),(0,l.jsx)(x,{})]})};class P extends r.Component{componentDidMount(){let s=this.props.router.params.userId;s||(s=this.props.authorizedUserId,s||this.props.history.push("/login")),this.props.getUserProfile(s),this.props.getStatus(s)}render(){return(0,l.jsx)(k,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}const S=(0,o.qC)((0,a.$j)((s=>({profile:s.profileReducer.profile,status:s.profileReducer.status,authorizedUserId:s.authReducer.userId,isAuth:s.authReducer.isAuth})),{getUserProfile:n.et,getStatus:n.lR,updateStatus:n.Nf}),(function(s){return function(t){let e=(0,u.TH)(),r=(0,u.s0)(),o=(0,u.UO)();return(0,l.jsx)(s,{...t,router:{location:e,navigate:r,params:o}})}}))(P)}}]);
//# sourceMappingURL=795.0de39833.chunk.js.map